<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>BrokerPilot –°—Ç–µ–Ω–¥—ã</h2>
            <div class="status-indicator" id="connectionStatus"></div>
        </div>
        
        <div class="stand-selector">
            <select id="standSelect">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–µ–Ω–¥...</option>
            </select>
        </div>
        
        <div id="standInfo" class="stand-info hidden">
            <div class="stand-header">
                <h3 id="standName"></h3>
                <div class="stand-controls">
                    <div class="task-count" id="taskCount">0 –∑–∞–¥–∞—á</div>
                    <button id="blockBtn" class="btn-block">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </div>
            
            <div class="stand-description">
                <p id="standDescription"></p>
            </div>
            
            <div id="blockInfo" class="block-info hidden">
                <div class="block-warning">
                    ‚ö†Ô∏è <strong>–°—Ç–µ–Ω–¥ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</strong>
                </div>
                <div class="block-reason" id="blockReason"></div>
                <div class="block-date" id="blockDate"></div>
                <button id="unblockBtn" class="btn-unblock">üîì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
            
            <div class="section">
                <div class="section-title">üì¶ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–æ–¥—ã:</div>
                <div class="nodes-container" id="standNodes"></div>
            </div>
            
            <div class="section">
                <div class="section-title">üìã –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏:</div>
                <div class="tasks-container" id="currentTasks"></div>
                
                <div class="add-task-form" id="addTaskForm">
                    <input type="text" id="taskInput" placeholder="–ù–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1234)" maxlength="10">
                    <button id="addTaskBtn" class="btn-add">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>
        
        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ -->
        <div id="blockModal" class="modal hidden">
            <div class="modal-content">
                <h3>üîí –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–µ–Ω–¥–∞</h3>
                <p>–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å—Ç–µ–Ω–¥–∞ <strong id="modalStandName"></strong>:</p>
                <form id="blockForm">
                    <textarea id="blockReasonInput" placeholder="–ü—Ä–∏—á–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞...)" rows="3" required></textarea>
                    <div class="modal-actions">
                        <button type="submit" class="btn-danger">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button type="button" id="cancelBlockBtn" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞–¥–∞—á–∏ -->
        <div id="moveModal" class="modal hidden">
            <div class="modal-content">
                <h3>‚ü≤ –ü–µ—Ä–µ–Ω–æ—Å –∑–∞–¥–∞—á–∏</h3>
                <p>–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞–¥–∞—á—É <strong id="moveTaskId"></strong> —Å —Å—Ç–µ–Ω–¥–∞ <strong id="moveFromStand"></strong> –Ω–∞:</p>
                <form id="moveForm">
                    <select id="moveToStandSelect" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–µ–Ω–¥ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞...</option>
                    </select>
                    <div class="modal-actions">
                        <button type="submit" class="btn-primary">‚ü≤ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏</button>
                        <button type="button" id="cancelMoveBtn" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="footer">
            <button id="refreshBtn" class="btn-refresh">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            <div class="status-message" id="statusMessage"></div>
        </div>
    </div>
    
    <script src="popup.js"></script>
</body>
</html>
